{"version":3,"sources":["webpack:///./src/assets/bookmark-filled.svg","webpack:///./src/assets/bookmark.svg","webpack:///./src/views/Anime.vue?a9cb","webpack:///./src/views/Anime.vue","webpack:///./src/views/Anime.vue?57c1","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["module","exports","class","anime","id","style","src","alt","title","english","saved","token","toggleAnime","year","description","to","submitted_by","tags","name","data","localStorage","mounted","this","getData","watch","$route","from","methods","state","json","JSON","stringify","action","a","post","withCredentials","headers","response","error","setTimeout","get","user","params","Object","assign","join","profile","anime_list","includes","render","__scopeId","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","target","proto","forced","separator","call","undefined"],"mappings":"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","file":"js/chunk-1db91b9f.463b5093.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/bookmark-filled.96b16160.svg\";","module.exports = __webpack_public_path__ + \"img/bookmark.0c50f635.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Anime.vue?vue&type=style&index=0&id=34b9b6ae&scoped=true&lang=css\"","<template>\r\n    <div class=\"anime\">\r\n        <div class=\"bannerContainer\">\r\n            <div v-if=\"anime.id\" class=\"banner\" :style=\"{'background-image' : `linear-gradient(0deg, rgba(255, 0, 107, 0.65), rgba(255, 0, 107, 0.75)), linear-gradient(0deg, #000000, #000000), url(https://taku.moe:2087/anime/banners/${anime.id}.jpg)`}\">\r\n                <img class=\"poster\" :src=\"`https://taku.moe:2087/anime/posters/${anime.id}.jpg`\" alt=\"\">\r\n                <div class=\"info\">\r\n                    <div class=\"title\">\r\n                        <h1>{{anime.title.english}} \r\n                            <img v-if=\"!saved && token\" @click=\"toggleAnime(anime.id, true)\" src=\"../assets/bookmark.svg\" alt=\"\">\r\n                            <img v-if=\"saved && token\" @click=\"toggleAnime(anime.id, false)\" src=\"../assets/bookmark-filled.svg\" alt=\"\">\r\n                        </h1>\r\n                        <h2>{{anime.year}}</h2>\r\n                    </div>\r\n                    <div class=\"desc\">\r\n                        <h3>Overview</h3>\r\n                        <p>{{anime.description}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <p class=\"tags\" ><strong>SUBMITED BY: </strong><router-link :to=\"`/profile/${anime.submitted_by}`\">{{anime.submitted_by}}</router-link></p> \r\n        <p class=\"tags\" ><strong>TAGS: </strong>{{anime.tags}}</p>\r\n        <p class=\"tags\" ><strong>BACKGROUNDS: </strong>(1337)</p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\n\r\n// Lifecycles\r\nexport default {\r\n    name: 'anime',\r\n    data: () => {\r\n        return {\r\n            token: localStorage.token,\r\n            anime: {},\r\n            name: \"ass\",\r\n            saved: false,\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getData();\r\n    },\r\n    watch: {\r\n        $route(to, from) {\r\n            this.getData();\r\n        }\r\n    },\r\n    methods: {\r\n        async toggleAnime(id, state) {\r\n            this.saved = state;\r\n\r\n            // Reset animation\r\n            const json = JSON.stringify({anime: id, action: state});\r\n            const response = await axios.post('https://taku.moe:2087/user/anime', json, {\r\n                withCredentials: true,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n\r\n            // Display backend error\r\n            if (response.data.error) {\r\n                this.error = response.data.error;\r\n                this.saved = true;\r\n                setTimeout(() => {\r\n                    this.error = \"\";\r\n                }, 300);\r\n            }\r\n\r\n            this.saved = state;\r\n        },\r\n        async getData() {\r\n\r\n            // Get user data\r\n            const response = await axios.get('https://taku.moe:2087/user', {withCredentials: true});\r\n            let user = response.data\r\n            this.user = user;\r\n\r\n            // Get anime data\r\n            let anime = await axios.get(`https://taku.moe:2087/anime/id/${this.$route.params.id}/`, { headers: { 'Access-Control-Allow-Origin': '*' } });\r\n            anime = Object.assign({}, anime).data.anime[0];\r\n            anime.tags = anime.tags.join(\", \");\r\n            this.anime = anime;\r\n\r\n            if (user.profile.anime_list.includes(anime.id)) this.saved = true;\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.bannerContainer { display: flex; }\r\n.banner {\r\n    background-position: bottom;\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    width: 100%;\r\n    padding: 64px 24px 24px;\r\n    background-blend-mode: normal, color, normal;\r\n    display: flex;\r\n}\r\n.poster {\r\n    height: 168px;\r\n    width: 112px;\r\n    border-radius: 8px;\r\n    object-fit: cover;\r\n    cursor: pointer;\r\n    transition: 200ms ease;\r\n}\r\n.info {\r\n    margin-left: 8px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    color: white;\r\n    flex-direction: column;\r\n    font-family: Work Sans, system-ui;;\r\n}\r\n.info h1 {\r\n    position: relative;\r\n    font-size: 28px;\r\n    font-weight: 800;\r\n    padding-right: 32px;\r\n}\r\n\r\n.info h1 img {\r\n    right: 0px;\r\n    top: 0px;\r\n    position: absolute;\r\n    height: 32px;\r\n    margin-top: 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n.info h2 {\r\n    font-size: 22px;\r\n    font-weight: 400;\r\n}\r\n\r\n.info h3 {\r\n    font-size: 22px;\r\n    font-weight: 600;\r\n}\r\n\r\n.info p {\r\n    overflow: scroll;\r\n    height: fit-content;\r\n    max-height: 70px;\r\n    font-weight: 400;\r\n    margin-bottom: 6px;\r\n}\r\n.info p::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n.tags {\r\n    padding: 24px 24px 0px;\r\n    font-size: 16px;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./Anime.vue?vue&type=template&id=34b9b6ae&scoped=true\"\nimport script from \"./Anime.vue?vue&type=script&lang=js\"\nexport * from \"./Anime.vue?vue&type=script&lang=js\"\n\nimport \"./Anime.vue?vue&type=style&index=0&id=34b9b6ae&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-34b9b6ae\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}